# .clang-format for enterprise-level C++ project

# 基本风格
BasedOnStyle: LLVM
IndentWidth: 4
TabWidth: 4
UseTab: Never

# 对齐设置
AlignConsecutiveAssignments: true
AlignConsecutiveDeclarations: true
AlignOperands: true
AlignTrailingComments: true
AllowShortBlocksOnASingleLine: false
AllowShortCaseLabelsOnASingleLine: false
AllowShortFunctionsOnASingleLine: InlineOnly
AllowShortIfStatementsOnASingleLine: false
AllowShortLoopsOnASingleLine: false

# 指针与引用风格
PointerAlignment: Left       # T* ptr 而不是 T *ptr
SpaceBeforeParens: ControlStatements
SpaceAfterCStyleCast: true

# 括号和空格
BreakBeforeBraces: Allman     # 大括号换行风格，更适合企业级规范
BraceWrapping:
  AfterClass: true
  AfterControlStatement: true
  AfterEnum: true
  AfterFunction: true
  AfterNamespace: true
  AfterStruct: true
  AfterUnion: true
  BeforeCatch: true
  BeforeElse: true
  IndentBraces: false

# 列对齐限制
ColumnLimit: 150
BinPackArguments: false
BinPackParameters: false

# 其他代码风格优化
Cpp11BracedListStyle: true
DerivePointerAlignment: false
FixNamespaceComments: true
IncludeBlocks: Regroup
IndentCaseLabels: true
IndentGotoLabels: true
KeepEmptyLinesAtTheStartOfBlocks: false
MaxEmptyLinesToKeep: 1
NamespaceIndentation: All
SortIncludes: true
SortUsingDeclarations: true

# 空格优化
SpacesBeforeTrailingComments: 2
SpaceBeforeAssignmentOperators: true
SpaceInEmptyParentheses: false
SpaceBeforeCpp11BracedList: true
SpacesInAngles: false
SpacesInCStyleCastParentheses: false
SpacesInContainerLiterals: false
SpacesInParentheses: false
SpacesInSquareBrackets: false

# C++ 版本
Standard: c++17  # 可选：c++20, c++23，根据你项目选择